<div layout="column" layout-fill>
  <div layout="row">
  <div flex="15">
      <rd-widget>
        <rd-widget-body>
          <div class="header-icon blue pull-left">
            <span><b>M</b></span>
          </div>
          <div class="title">{{modelsCtrl.indicators.total_models}}</div>
          <div class="comment">Total Modelos</div>
        </rd-widget-body>
      </rd-widget>
    </div>
    <div flex="15">
      <rd-widget>
        <rd-widget-body>
          <div class="header-icon blue pull-left">
            <span><b>I</b></span>
          </div>
          <div class="title">{{modelsCtrl.indicators.total_inactive.value}}&#32;(<span>{{modelsCtrl.indicators.total_inactive.percentage * 100| number :1 }}%</span>)</div>
          <div class="comment">Inactivos</div>
        </rd-widget-body>
      </rd-widget>
    </div>
    <div flex="15">
      <rd-widget>
        <rd-widget-body>
          <div class="header-icon blue pull-left">
            <span><b>B</b></span>
          </div>
          <div class="title">{{modelsCtrl.indicators.total_backtest.value}}&#32;(<span>{{modelsCtrl.indicators.total_backtest.percentage * 100| number :1 }}%</span>)</div>
          <div class="comment">Backtesting</div>
        </rd-widget-body>
      </rd-widget>
    </div>
    <div flex="15">
      <rd-widget>
        <rd-widget-body>
          <div class="header-icon red pull-left">
            <span><b>N</b></span>
          </div>
          <div class="title">{{modelsCtrl.indicators.total_unvalidated.value}}&#32;(<span>{{modelsCtrl.indicators.total_unvalidated.percentage * 100| number :1 }}%</span>)</div>
          <div class="comment">No Validados</div>
        </rd-widget-body>
      </rd-widget>
    </div>
    <div flex="15">
      <rd-widget>
        <rd-widget-body>
          <div class="header-icon blue pull-left">
            <span><b>V</b></span>
          </div>
          <div class="title">{{modelsCtrl.indicators.total_validated.value}}&#32;(<span>{{modelsCtrl.indicators.total_validated.percentage * 100| number :1 }}%</span>)</div>
          <div class="comment">Validados</div>
        </rd-widget-body>
      </rd-widget>
    </div>
    <div flex="15">
      <rd-widget>
        <rd-widget-body>
          <div class="header-icon green pull-left">
            <span><b>C</b></span>
          </div>
          <div class="title">{{modelsCtrl.indicators.total_validated_fullfil.value}}&#32;(<span>{{modelsCtrl.indicators.total_validated_fullfil.percentage * 100| number :1 }}%</span>)</div>
          <div class="comment">Cumple</div>
        </rd-widget-body>
      </rd-widget>
    </div>
    <div flex="15">
      <rd-widget>
        <rd-widget-body>
          <div class="header-icon red pull-left">
            <span><b>X</b></span>
          </div>
          <div class="title">{{modelsCtrl.indicators.total_validated_no_fullfil.value}}&#32;(<span>{{modelsCtrl.indicators.total_validated_no_fullfil.percentage * 100| number :1 }}%</span>)</div>
          <div class="comment">No Cumple</div>
        </rd-widget-body>
      </rd-widget>
    </div>
  </div>

  
  




  <div layout="row" layout-fill flex>

    <div  layout="column" flex=20 class="contentModel" layout-fill  data-ng-controller="RiskCtrl as risks" >
      <md-content flex layout-fill class="no-padding">
          <rd-widget>
            <div layout="column" layout-align="center center">
              <div layout="row" layout-fill layout-align="center center" data-ng-hide="risks.listOfRisks.length > 0">
                <md-progress-circular md-mode="indeterminate"></md-progress-circular>
              </div>
              <div layout="column" layout-fill class="table-responsive" data-ng-show="risks.listOfRisks.length > 0">
                <table class="table table-hover">
                  <thead>
                    <tr><th><i class="fa fa-bolt" ng-class="icon"></i>&#32;Riesgo Asociado&#32;<a data-ng-click="risks.createRisk()" class="btn btn-link">Nuevo</a></th></tr>
                  </thead>
                  <tbody>
                        <tr id="{{r.id}}" data-ng-repeat="r in risks.listOfRisks"
                            data-ng-class="{riskSelectedItem: r.id == risks.currentRisk.id}">
                          <td data-ng-click="risks.selectRisk(r)">
                                <text-input-update value-edit="r.name" my-blur="risks.updateRisk(r)"></text-input-update>
                          </td>
                          <td data-ng-click="risks.selectRisk(r)"><span class="text-danger" data-ng-click="risks.removeRisk($index,$event)" data-ng-show="r.id == risks.currentRisk.id" cursor-me><i class="fa fa-trash-o"></i></span></td>
                        </tr>
                  </tbody>
                </table>
              </div>
            </div>
        </rd-widget>
      </md-content>
      <md-content flex layout-fill data-ng-controller="AreaCtrl as areas">
          <span data-ng-if="risks.currentRisk == null">Para mostrar las áreas, seleccione un riesgo.</span>
          <div class="table-responsive" data-ng-show="risks.currentRisk != null">
            <a data-ng-click="areas.createArea(risks.currentRisk)" class="btn btn-link" data-ng-class='{disabled:risks.currentRisk == null}'>Nueva área</a>
            <table class="table table-hover">
              <thead>
                <tr><th style="vertical-align:middle;"><i class="fa fa-users" ng-class="icon"></i>&#32;Area</th><th>Líder</th></tr>
              </thead>
              <tbody>
                <tr id="{{a.id}}" data-ng-repeat="a in areas.areas" data-ng-class="{riskSelectedItem: a.id == areas.currentArea.id}">
                      <td data-ng-click="areas.selectArea(a)">
                        <text-input-update value-edit="a.name" my-blur="areas.updateArea(risks.currentRisk.id,a)"></text-input-update>
                      </td>
                      <td data-ng-click="areas.selectArea(a)">
                        <text-input-update value-edit="a.lead" my-blur="areas.updateArea(risks.currentRisk.id,a)"></text-input-update>
                      </td>
                      <td data-ng-click="areas.selectArea(a)"><span class="text-danger" data-ng-click="areas.removeArea($index,$event)" data-ng-show="a.id == areas.currentArea.id" cursor-me><i class="fa fa-trash-o"></i></span></td>
                </tr>
              </tbody>
            </table>
          </div>
      </md-content>
    </div>

    <div layout="column" flex=80>
    <rd-widget>
      <rd-widget-header icon="fa-object-group" title="{{modelsCtrl.titleTable}}">
        <md-checkbox md-no-ink data-ng-model="modelsCtrl.showCurBacktesting" class="md-primary">
            Backtesting del actual mes
        </md-checkbox>

        <md-checkbox md-no-ink data-ng-model="modelsCtrl.showInactive" class="md-primary">
            Mostrar Inactivos
        </md-checkbox>
        <md-checkbox md-no-ink data-ng-model="modelsCtrl.showUncalibrated" class="md-primary">
            Mostrar Descalibrados
        </md-checkbox>
        <form>
          <div class="form-group">
            <div class="input-group">
              <div class="input-group-addon"><i class="fa fa-search"></i></div>
              <input type="text" placeholder="Search" data-ng-model="modelsCtrl.filterModels" class="form-control input-sm" />
            </div>      
          </div>
        </form>
      </rd-widget-header>
    </rd-widget>
    
  </div>
  </div>

</div>
